require.register("config.jsenv",function(t,o,r){r.exports={BUILD:"git-9a036af"}}),angular.module("App",["app.templates","ui.router","billab.proposal","ly.diff","ly.spy"]).config(["$stateProvider","$urlRouterProvider","$locationProvider"].concat(function(t,o,r){return t.state("proposal",{url:"/{user}/{proposal}",templateUrl:"app/partials/proposal.html",controller:"ProposalCtrl"}).state("about",{url:"/about",templateUrl:"app/partials/about.html",controller:"About"}),o.otherwise("/citizens/proposal-dummy"),r.html5Mode(!0)})).run(["$rootScope","$state","$stateParams","$location","$window","$anchorScroll"].concat(function(t,o,r,e,n,a){return t.$state=o,t.$stateParam=r,t.config_build=require("config.jsenv").BUILD,t.$on("$stateChangeSuccess",function(t,o){var r;return r=o.name,"undefined"!=typeof window&&null!==window&&"function"==typeof window.ga?window.ga("send","pageview",{page:e.$$path,title:r}):void 0})})).controller({AppCtrl:["$scope","$location","$rootScope","$sce"].concat(function(t,o,r,e){return t.$location=o,t.$watch("$location.path()",function(o){return o||(o="/"),t.activeNavId=o,t}),t.getClass=function(o){return t.activeNavId.substring(0,o.length===o)?"active":""}})}).controller({About:["$rootScope","$http"].concat(function(t,o){return t.activeTab="about"})}),angular.module("billab.proposal",[]).factory({BillabService:["$http"].concat(function(t){return{getProposal:function(o,r){return t.get("/data/"+r+".json")}}})}).controller({ProposalCtrl:["$scope","BillabService"].concat(function(t,o){var r;return console.log("proposal"),t.user=(r=t.$stateParam).user,t.proposal=r.proposal,o.getProposal(t.user,t.proposal).success(function(o){return t.data=o})})}),angular.module("ly.spy",[]).directive("repeatDone",function(){return{restrict:"A",require:"ng-repeat",controller:["$scope"].concat(function(t){return t.$last?t.$emit("repeat:finish"):void 0})}}).directive("scrollSpy",["$window"].concat(function(t){return{restrict:"A",transclude:!0,replace:!0,templateUrl:"app/partials/spy.html",link:function(o,r,e){var n,a;return n=o,n.targets=[],n.offset=+e.offset,n.$on("spy:register",function(t,r){return o.targets.push(r)}),n.$on("repeat:finish",function(t){return o.$evalAsync(function(){var t,n;return t=r.find(e.anchor),n=r.find(e.box),t.each(function(t){var r,e,a;return r=$(this),e=n.eq(t),a=e.position().top,o.targets.push({anchor:r.attr("id"),heading:r.text(),top:a,bottom:a+e.height()})})})}),t.onscroll=function(t){var e,n,i,l;e=scrollY+o.offset;for(i in o.targets){if(n=o.targets[i],n.top<=e&&e<n.bottom)break;n=null}return a!==n&&(o.$apply(function(){return null!=a&&(a.highlight=!1),null!=n?n.highlight=!0:void 0}),l=r.find(".highlight"),l.length&&l.isOutOfView()&&o.targets.length>=3&&l.scrollIntoView()),a=n}}}}));